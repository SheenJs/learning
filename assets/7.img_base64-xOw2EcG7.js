import{d as w,ai as x,bl as y,y as N,o as I,c as k,a as p,q as l,m as n,u as a,a7 as c,g as i,ah as m,t as C,F,p as B,l as R,_ as S}from"./index-ArmOtO4R.js";import{N as D}from"./Upload-TMORBcdj.js";import{N as E,a as r,b as L}from"./Grid-2urI5ANc.js";import"./Add-mGb4GjhV.js";const V=u=>(B("data-v-ff64697a"),u=u(),R(),u),A=V(()=>p("h1",null,"图片base64转换器",-1)),G=["src"],T=["src"],j=w({__name:"7.img_base64",setup(u){function f(s,o){const e=new Image;e.crossOrigin="Anonymous",e.onload=function(){let d=document.createElement("canvas");const h=d.getContext("2d");d.width=e.width,d.height=e.height,h.drawImage(e,0,0);const U=d.toDataURL("image/png");o(U),d=null},e.onerror=function(){o(null)},e.src=s}const t=x({url:"https://sponsors.vuejs.org/images/likeshop.svg",dataUrl:""}),{copied:_,copy:g}=y({source:t.dataUrl});N(()=>{f(t.url,s=>{t.dataUrl=s})});const v=s=>{const o=new FileReader;o.onload=function(e){t.dataUrl=e.target.result},o.readAsDataURL(s.file.file)},b=()=>{let s=document.createElement("a");s.href=t.dataUrl,s.download="image.png",s.click(),s=null};return(s,o)=>(I(),k(F,null,[A,p("img",{class:"img",src:t.url,alt:""},null,8,G),l(a(L),{ref:"formRef","label-width":80,model:t,size:"small"},{default:n(()=>[l(a(E),{cols:24,"x-gap":24},{default:n(()=>[l(a(r),{span:24,label:"输入图片网址"},{default:n(()=>[l(a(c),{type:"textarea",value:t.url,"onUpdate:value":o[0]||(o[0]=e=>t.url=e),placeholder:"输入文字或者网址"},null,8,["value"])]),_:1}),l(a(r),{span:24,label:"上传图片"},{default:n(()=>[l(a(D),{"list-type":"image-card",max:1,"on-before-upload":v},{default:n(()=>[i(" 点击上传 ")]),_:1})]),_:1}),l(a(r),{span:24,label:"二维码内容"},{default:n(()=>[l(a(c),{type:"textarea",value:t.dataUrl,"onUpdate:value":o[1]||(o[1]=e=>t.dataUrl=e),placeholder:"输入文字或者网址"},null,8,["value"])]),_:1}),l(a(r),{span:24,label:"base64预览"},{default:n(()=>[p("img",{class:"preview",src:t.dataUrl,alt:""},null,8,T)]),_:1}),l(a(r),{span:24},{default:n(()=>[l(a(m),{onClick:b,type:"primary",block:""},{default:n(()=>[i("下载")]),_:1})]),_:1}),l(a(r),{span:24},{default:n(()=>[l(a(m),{onClick:o[2]||(o[2]=e=>a(g)(t.dataUrl)),type:"primary",block:""},{default:n(()=>[i(C(a(_)?"已复制":"复制图片base64编码"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])],64))}}),O=S(j,[["__scopeId","data-v-ff64697a"]]);export{O as default};
