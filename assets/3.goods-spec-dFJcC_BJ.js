import{d as j,af as F,u as i,ag as P,r as m,f as V,o as r,c as l,a as t,t as u,F as k,b as y,n as z,p as A,l as D,_ as L}from"./index-ArmOtO4R.js";import{g as b}from"./data-kKgQlKYJ.js";import"./mock-VfkuvDPk.js";const M=f=>(A("data-v-7ff9c0b1"),f=f(),D(),f),R={class:"goods-spec"},$={class:"spec-top flex-between"},q={class:"spec-top-left"},G=M(()=>t("img",null,null,-1)),H={class:"goods-base-info"},J={class:"specific"},K={class:"spec-item-tag"},N=["onClick"],O=j({__name:"3.goods-spec",setup(f){F(e=>({fdc97356:i(C)}));const{primaryColor:C}=P(),n=m(b().specific),p=b().goodsSpec,a=m([]),d=m([]),w=(e,s,c,o)=>{o&&(i(a)[s]!=e?(a.value[s]=e,d.value[s]=c):(a.value[s]="",d.value[s]=-1),B())},B=()=>{const e=[];for(const s in i(n))e[s]=i(a)[s]?i(a)[s]:"";for(const s in i(n)){const c=e[s];for(const o in i(n)[s].items)e[s]=i(n)[s].items[o].name,n.value[s].items[o].isToggle=E(e);e[s]=c}},E=e=>{for(const s in e)if(e[s]==="")return!0;for(const s in p)if(p[s].difference===e.join(";"))return!0},_=V(()=>{const e=i(a).filter(o=>o).join(";");let s=0,c=0;try{p.forEach(o=>{if(o.difference===e)throw s=o.stock,c=o.price,new Error;s=0,c=0})}catch(o){console.log(o)}return{specString:e,result:{stock:s,price:c}}});return(e,s)=>(r(),l("div",R,[t("div",$,[t("div",q,[G,t("div",H,[t("div",null,"￥"+u(_.value.result.price),1),t("p",null,"库存:"+u(_.value.result.stock),1),t("span",null,u(_.value.specString),1)])])]),t("div",J,[(r(!0),l(k,null,y(n.value,({name:c,items:o},v)=>(r(),l("div",{class:"spec-item",key:v},[t("p",null,u(c),1),t("div",K,[(r(!0),l(k,null,y(o,({name:g,isToggle:h},S)=>(r(),l("span",{key:g,class:z([h?"":"noProduct",d.value[v]===S?"active":""]),onClick:Q=>w(g,v,S,h)},u(g),11,N))),128))])]))),128))])]))}}),X=L(O,[["__scopeId","data-v-7ff9c0b1"]]);export{X as default};
