import{d as j,b4 as F,u as i,ad as P,r as g,f as V,o as a,c as l,a as t,t as u,F as k,b,n as z,p as A,l as D,_ as L}from"./index-IKBqo79c.js";import{g as y}from"./data-8nCsPulo.js";import"./mock-0PiHM-V7.js";const M=f=>(A("data-v-7ff9c0b1"),f=f(),D(),f),R={class:"goods-spec"},$={class:"spec-top flex-between"},q={class:"spec-top-left"},G=M(()=>t("img",null,null,-1)),H={class:"goods-base-info"},J={class:"specific"},K={class:"spec-item-tag"},N=["onClick"],O=j({__name:"3.goods-spec",setup(f){F(e=>({fdc97356:i(C)}));const{primaryColor:C}=P(),n=g(y().specific),p=y().goodsSpec,r=g([]),d=g([]),w=(e,s,c,o)=>{o&&(i(r)[s]!=e?(r.value[s]=e,d.value[s]=c):(r.value[s]="",d.value[s]=-1),B())},B=()=>{const e=[];for(const s in i(n))e[s]=i(r)[s]?i(r)[s]:"";for(const s in i(n)){const c=e[s];for(const o in i(n)[s].items)e[s]=i(n)[s].items[o].name,n.value[s].items[o].isToggle=E(e);e[s]=c}},E=e=>{for(const s in e)if(e[s]==="")return!0;for(const s in p)if(p[s].difference===e.join(";"))return!0},_=V(()=>{const e=i(r).filter(o=>o).join(";");let s=0,c=0;try{p.forEach(o=>{if(o.difference===e)throw s=o.stock,c=o.price,new Error;s=0,c=0})}catch(o){console.log(o)}return{specString:e,result:{stock:s,price:c}}});return(e,s)=>(a(),l("div",R,[t("div",$,[t("div",q,[G,t("div",H,[t("div",null,"￥"+u(_.value.result.price),1),t("p",null,"库存:"+u(_.value.result.stock),1),t("span",null,u(_.value.specString),1)])])]),t("div",J,[(a(!0),l(k,null,b(n.value,({name:c,items:o},v)=>(a(),l("div",{class:"spec-item",key:v},[t("p",null,u(c),1),t("div",K,[(a(!0),l(k,null,b(o,({name:m,isToggle:h},S)=>(a(),l("span",{key:m,class:z([h?"":"noProduct",d.value[v]===S?"active":""]),onClick:Q=>w(m,v,S,h)},u(m),11,N))),128))])]))),128))])]))}}),X=L(O,[["__scopeId","data-v-7ff9c0b1"]]);export{X as default};
