import{d as w,r as c,f as x,u as t,bl as C,y as k,o as d,c as u,a as s,t as m,q as f,m as B,ah as M,_ as L}from"./index-cgOjhSOl.js";import{l as E}from"./loadBMapGl-ASXE2nng.js";import{N as $}from"./InputNumber-zELqVQE1.js";import"./Add-zF5eaCsK.js";const A={class:"box"},O={class:"opt"},P={class:"flex-star"},F={class:"result"},G={style:{margin:"10px 0"}},I={key:0},S={key:1},T=w({__name:"4.拾取经纬度",setup(V){const p=c(),n=c(),i=c("102.85076697175514,24.89248383034783"),_=c([]),l=c(7),y=x(()=>{if(t(l)>0){const[e,a]=t(i).split(",");return`${Number(e).toFixed(t(l))},${Number(a).toFixed(t(l))}`}else return t(i)}),{copy:g,copied:N}=C({source:y});k(async()=>{await b()});async function b(){const e=await E();n.value=new e.Map(p.value),n.value.centerAndZoom(new e.Point(102.85076697175514,24.89248383034783),18),n.value.enableScrollWheelZoom(!0),n.value.addControl(new e.CityListControl({anchor:BMAP_ANCHOR_TOP_LEFT}));const a=new e.Geocoder;n.value.addEventListener("click",o=>{i.value=`${o.latlng.lng},${o.latlng.lat}`,n.value.clearOverlays(),n.value.addOverlay(new e.Marker(new e.Point(o.latlng.lng,o.latlng.lat))),a.getLocation(o.latlng,v=>{console.log(v);const r=v.addressComponents;_.value=[r.province,r.city,r.district,r.street,r.streetNumber].filter(h=>h)})})}return(e,a)=>(d(),u("div",A,[s("div",{id:"container",class:"container",ref_key:"mapEle",ref:p},null,512),s("div",O,[s("div",P,[s("div",F,m(i.value),1),f(t($),{placeholder:"复制小数点后多少位",value:l.value,"onUpdate:value":a[0]||(a[0]=o=>l.value=o)},null,8,["value"])]),s("div",G,[f(t(M),{type:"primary",onClick:a[1]||(a[1]=o=>t(g)())},{default:B(()=>[t(N)?(d(),u("span",S,"已复制")):(d(),u("span",I,"复制当前经纬度"))]),_:1})]),s("div",null,m(_.value.join("")),1)])]))}}),H=L(T,[["__scopeId","data-v-71c2aa55"]]);export{H as default};
