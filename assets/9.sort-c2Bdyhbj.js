import{m as k}from"./mock-2VVDe_CT.js";import{d as I,ag as C,r as _,D as T,u as p,y as A,aH as N,o as R,c as O,a as h,t as S,q as b,m as y,g as d,ah as w,F as q,_ as B}from"./index-cgOjhSOl.js";import{N as $}from"./Select-2iAH7fJX.js";function g(i="#ff0000",e=1){return i=i.slice(1),`rgba(${parseInt(i.slice(0,2),16)},${parseInt(i.slice(2,4),16)},${parseInt(i.slice(4,6),16)},${e*.01})`}const D={bubble:function(i,e,c,f=()=>{}){const s=e.length;let a=setInterval(()=>{x(e)&&(clearInterval(a),f());for(let t=0;t<s;t++)for(let n=0;n<s-t-1;n++)if(e[n]>e[n+1]){let o=e[n];e[n]=e[n+1],e[n+1]=o,v(i,c,e);return}},400)},selection:function(i,e,c,f=()=>{}){const s=e.length;let a=setInterval(async()=>{x(e)&&(clearInterval(a),f());for(let t=0;t<s-1;t++){let n=t;for(let o=t+1;o<s;o++)e[o]<e[n]&&(n=o);if(t!==n){let o=e[t];e[t]=e[n],e[n]=o,await i.setOption({series:{type:"bar",label:{show:!0},data:e,itemStyle:{color:function(l){return g(c,l.value)}}}});return}}},400)},insertion:function(i,e,c,f=()=>{}){let s=0;a();function a(){if(x(e)&&f(),s<e.length-1){let t=e[s+1],n=s+1;for(;n>0&&e[n-1]>t;)e[n]=e[n-1],n--;e[n]=t,v(i,c,e),s++,setTimeout(a,400)}}},quick:function(i,e,c,f=()=>{}){s(e,0,e.length-1);function s(t,n,o){if(n<o){const l=a(t,n,o);n<l-1&&setTimeout(function(){s(t,n,l-1)},1e3),l+1<o&&setTimeout(function(){s(t,l+1,o)},400)}}function a(t,n,o){for(var l=t[o],u=n-1,r=n;r<o;r++)if(t[r]<=l){u++;var m=t[u];t[u]=t[r],t[r]=m,v(i,c,t)}var m=t[u+1];return t[u+1]=t[o],t[o]=m,v(i,c,t),u+1}},merge:function(i,e,c,f=()=>{}){s(e);function s(t){if(t.length<=1)return t;var n=Math.floor(t.length/2),o=t.slice(0,n),l=t.slice(n);return a(s(o),s(l))}function a(t,n){const o=[];let l=0,u=0;for(;l<t.length&&u<n.length;)t[l]<n[u]?(o.push(t[l]),l++):(o.push(n[u]),u++),setTimeout(function(){l<t.length?(o.push(t[l]),l++):(o.push(n[u]),u++),v(i,c,o)},1e3);return o.concat(t.slice(l)).concat(n.slice(u))}},counting:function(i,e,c,f=()=>{}){s(e,e.length);function s(a,t){let n=Array(t+1).fill(0);for(let l=0;l<a.length;l++)n[a[l]]++;let o=0;for(let l=0;l<=t;l++)for(;n[l]>0;)a[o++]=l,setTimeout(()=>{v(i,c,a)},400),n[l]--;return a}}};function x(i){for(let e=0;e<i.length-1;e++)if(i[e]>i[e+1])return!1;return!0}function v(i,e,c){i.setOption({series:{type:"bar",label:{show:!0},data:c,itemStyle:{color:function(f){return g(e,f.value)}}}})}const E={class:"flex-between"},V={class:"flex-star",style:{padding:"10px 0"}},F=I({__name:"9.sort",setup(i){const{primaryColor:e}=C(),c=_("bubble");T(e,u=>{s.setOption(l(p(f)))});const f=_(Array.from({length:20},()=>k.Random.integer(0,100)));let s;const a=_();A(()=>{s=N(a.value,{grid:{top:0,right:0,bottom:0,left:0},xAxis:{data:Array.from({length:20},(u,r)=>r)},yAxis:{splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:{type:"bar",data:f.value,label:{show:!0},itemStyle:{color:function(u){return g(e.value,u.value)}}}})});const t=()=>{f.value=Array.from({length:20},()=>k.Random.integer(0,100)),s.setOption(l(p(f)))},n=()=>{s.setOption(l(p(f)))},o=()=>{D[c.value](s,[...f.value],e.value,()=>{console.log("排序完成")})},l=u=>({series:{type:"bar",data:[...u],itemStyle:{color:function(r){return g(e.value,r.value)}}}});return(u,r)=>(R(),O(q,null,[h("div",null,"原数组:"+S(f.value),1),h("div",E,[b(p(w),{onClick:t},{default:y(()=>[d("数据重置")]),_:1}),b(p(w),{onClick:n},{default:y(()=>[d("图表重置")]),_:1}),h("div",V,[d(" 选择排序方式:"),b(p($),{placeholder:"选则排序方式",value:c.value,"onUpdate:value":r[0]||(r[0]=m=>c.value=m),options:[{label:"冒泡",value:"bubble"},{label:"选择",value:"selection"},{label:"插入",value:"insertion"},{label:"快速",value:"quick"},{label:"归并",value:"merge"},{label:"计数",value:"counting"}],style:{width:"200px"}},null,8,["value"]),d(" "+S(c.value),1)]),b(p(w),{onClick:o},{default:y(()=>[d("开始排序")]),_:1})]),h("div",{ref_key:"helloChartRef",ref:a,class:"chart"},null,512)],64))}}),U=B(F,[["__scopeId","data-v-b4ce219c"]]);export{U as default};
