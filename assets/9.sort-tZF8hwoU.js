import{m as x}from"./mock-0PiHM-V7.js";import{d as T,ad as A,r as y,D as I,u as p,y as N,ae as R,o as O,c as q,a as h,t as C,q as _,m as w,g as d,af as k,F as B,_ as $}from"./index-IKBqo79c.js";import{N as D}from"./Select-NMEq2Sz_.js";function b(s="#ff0000",e=1){return s=s.slice(1),`rgba(${parseInt(s.slice(0,2),16)},${parseInt(s.slice(2,4),16)},${parseInt(s.slice(4,6),16)},${e*.01})`}const E={bubble:function(s,e,a,f=()=>{}){const c=e.length,[u]=s;let r=setInterval(()=>{S(e)&&(clearInterval(r),f());for(let t=0;t<c;t++)for(let n=0;n<c-t-1;n++)if(e[n]>e[n+1]){let o=e[n];e[n]=e[n+1],e[n+1]=o,m(u,a,e);return}},400)},selection:function(s,e,a,f=()=>{}){const c=e.length,[u]=s;let r=setInterval(async()=>{S(e)&&(clearInterval(r),f());for(let t=0;t<c-1;t++){let n=t;for(let o=t+1;o<c;o++)e[o]<e[n]&&(n=o);if(t!==n){let o=e[t];e[t]=e[n],e[n]=o,await u.setOption({series:{type:"bar",label:{show:!0},data:e,itemStyle:{color:function(l){return b(a,l.value)}}}});return}}},400)},insertion:function(s,e,a,f=()=>{}){const[c]=s;let u=0;r();function r(){if(S(e)&&f(),u<e.length-1){let t=e[u+1],n=u+1;for(;n>0&&e[n-1]>t;)e[n]=e[n-1],n--;e[n]=t,m(c,a,e),u++,setTimeout(r,400)}}},quick:function(s,e,a,f=()=>{}){const[c]=s;u(e,0,e.length-1);function u(t,n,o){if(n<o){var l=r(t,n,o);n<l-1&&setTimeout(function(){u(t,n,l-1)},1e3),l+1<o&&setTimeout(function(){u(t,l+1,o)},400)}}function r(t,n,o){for(var l=t[o],i=n-1,v=n;v<o;v++)if(t[v]<=l){i++;var g=t[i];t[i]=t[v],t[v]=g,m(c,a,t)}var g=t[i+1];return t[i+1]=t[o],t[o]=g,m(c,a,t),i+1}},merge:function(s,e,a,f=()=>{}){const[c]=s;u(e);function u(t){if(t.length<=1)return t;var n=Math.floor(t.length/2),o=t.slice(0,n),l=t.slice(n);return r(u(o),u(l))}function r(t,n){for(var o=[],l=0,i=0;l<t.length&&i<n.length;)t[l]<n[i]?(o.push(t[l]),l++):(o.push(n[i]),i++),setTimeout(function(){l<t.length?(o.push(t[l]),l++):(o.push(n[i]),i++),m(c,a,o)},1e3);return o.concat(t.slice(l)).concat(n.slice(i))}},counting:function(s,e,a,f=()=>{}){const[c]=s;u(e,e.length);function u(r,t){let n=Array(t+1).fill(0);for(let l=0;l<r.length;l++)n[r[l]]++;let o=0;for(let l=0;l<=t;l++)for(;n[l]>0;)r[o++]=l,setTimeout(()=>{m(c,a,r)},400),n[l]--;return r}}};function S(s){for(let e=0;e<s.length-1;e++)if(s[e]>s[e+1])return!1;return!0}function m(s,e,a){s.setOption({series:{type:"bar",label:{show:!0},data:a,itemStyle:{color:function(f){return b(e,f.value)}}}})}const V={class:"flex-between"},F={class:"flex-star",style:{padding:"10px 0"}},L=T({__name:"9.sort",setup(s){const{primaryColor:e}=A(),a=y("bubble");I(e,l=>{const[i]=c;i.setOption(o(p(f)))});const f=y(Array.from({length:20},()=>x.Random.integer(0,100)));let c;const u=y();N(()=>{c=R(u.value,{grid:{top:0,right:0,bottom:0,left:0},xAxis:{data:Array.from({length:20},(l,i)=>i)},yAxis:{splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:{type:"bar",data:f.value,label:{show:!0},itemStyle:{color:function(l){return b(e.value,l.value)}}}})});const r=()=>{const[l]=c;f.value=Array.from({length:20},()=>x.Random.integer(0,100)),l.setOption(o(p(f)))},t=()=>{const[l]=c;l.setOption(o(p(f)))},n=()=>{E[a.value](c,[...f.value],e.value,()=>{console.log("排序完成")})},o=l=>({series:{type:"bar",data:[...l],itemStyle:{color:function(i){return b(e.value,i.value)}}}});return(l,i)=>(O(),q(B,null,[h("div",null,"原数组:"+C(f.value),1),h("div",V,[_(p(k),{onClick:r},{default:w(()=>[d("数据重置")]),_:1}),_(p(k),{onClick:t},{default:w(()=>[d("图表重置")]),_:1}),h("div",F,[d(" 选择排序方式:"),_(p(D),{placeholder:"选则排序方式",value:a.value,"onUpdate:value":i[0]||(i[0]=v=>a.value=v),options:[{label:"冒泡",value:"bubble"},{label:"选择",value:"selection"},{label:"插入",value:"insertion"},{label:"快速",value:"quick"},{label:"归并",value:"merge"},{label:"计数",value:"counting"}],style:{width:"200px"}},null,8,["value"]),d(" "+C(a.value),1)]),_(p(k),{onClick:n},{default:w(()=>[d("开始排序")]),_:1})]),h("div",{ref_key:"helloChartRef",ref:u,class:"chart"},null,512)],64))}}),z=$(L,[["__scopeId","data-v-31ae2417"]]);export{z as default};
